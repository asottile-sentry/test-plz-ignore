on:
  pull_request_target:
    types: [labeled, opened, reopened, synchronize]
  
# disable special privileges
permissions:
  # needed for `actions/checkout` to clone the code
  contents: read
    
jobs:
  main:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: check permissions
      id: permissions
      run: .github/workflows/prt/check-permissions ${{ github.event.repository.id }} ${{ github.event.pull_request.user.login }}
    - run: jq . <<< "$EVENT"
      env:
        EVENT: ${{ toJSON(github.event) }}
